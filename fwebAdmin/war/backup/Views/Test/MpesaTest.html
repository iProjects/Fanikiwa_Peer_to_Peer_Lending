﻿﻿﻿﻿﻿﻿﻿﻿﻿<!DOCTYPE html>

<html lang="en">

<head>

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Fanikiwa - Administrator</title>
<link href="/Images/Dollar.ico" rel="shortcut icon" type="image/x-icon" />
<link rel="stylesheet" href="/Content/Site.css" type="text/css" />
<script src="/Scripts/jquery-2.0.3.js" type="text/javascript"></script>
<script src="/Scripts/CustomScripts.js" type="text/javascript"></script>


</head>


<body>

	<header>
		<div class="content-wrapper">

			<div class="float-left">
				<p class="site-title" title="Fanikiwa - Administrator">Fanikiwa
					- Administrator</p>
			</div>


			<div class="float-right">
				<section id="login">
					<text> Welcome To Fanikiwa, <a id="lnkloggedinuser"
						style="cursor: pointer;" href="#" onclick="ManageProfile()"
						title="Manage Profile"></a> <a id="lnklogoff"
						style="cursor: pointer;" href="#" onclick="LogOff()"
						title="Log Off">Log off</a> </text>
				</section>
			</div>


			<div id="nav">
				<ul id="menu">

					<li>

						<div class="floatleft">

							<div>
								<a id="btnSubmitIndexForm" style="cursor: pointer;"
									href="/Views/Home/Index.html">Home</a>
							</div>

						</div>

					</li>

					<li id="subMenuSettings">

						<div class="floatleft">

							<div>
								<a id="btnSubmitSettingsForm" style="cursor: pointer;"
									href="/Views/Setting/List.html">Settings</a>
							</div>

						</div>

					</li>

					<li id="subMenuFanikiwaAccounts">

						<div class="floatleft">

							<div>
								<a id="btnSubmitGetAllAccountsForm" style="cursor: pointer;"
									href="/Views/Account/List.html">Accounts</a>
							</div>

						</div>

					</li>

					<li id="subMenuTransactionTypes">

						<div class="floatleft">

							<div>
								<a id="btnSubmitGetAllTransactionTypesForm"
									style="cursor: pointer;"
									href="/Views/TransactionType/List.html">Transaction Types</a>
							</div>

						</div>

					</li>


					<li id="subMenuAccountTypes">

						<div class="floatleft">

							<div>
								<a id="btnSubmitAccountTypesForm" style="cursor: pointer;"
									href="/Views/AccountType/List.html">Account Types</a>
							</div>

						</div>

					</li>


					<li id="subMenuCoa">

						<div class="floatleft">

							<div>
								<a id="btnSubmitCoaForm" style="cursor: pointer;"
									href="/Views/Coa/List.html">Coa</a>
							</div>

						</div>

					</li>


					<li id="subMenuCoaDet">

						<div class="floatleft">

							<div>
								<a id="btnSubmitCoaDetForm" style="cursor: pointer;"
									href="/Views/CoaDet/List.html">Coa Details</a>
							</div>

						</div>

					</li>



					<li id="subMenuTieredtable">

						<div class="floatleft">

							<div>
								<a id="btnSubmitTieredtableForm" style="cursor: pointer;"
									href="/Views/Tieredtable/List.html">Tiered Table</a>
							</div>

						</div>

					</li>


					<li id="subMenuTieredDet">

						<div class="floatleft">

							<div>
								<a id="btnSubmitTieredDetForm" style="cursor: pointer;"
									href="/Views/TieredDet/List.html">Tiered Details</a>
							</div>

						</div>

					</li>


					<li id="subMenuOrganization">

						<div class="floatleft">

							<div>
								<a id="btnSubmitOrganizationForm" style="cursor: pointer;"
									href="/Views/Organization/List.html">Organizations</a>
							</div>

						</div>

					</li>

					<li id="subMenuCustomer">

						<div class="floatleft">

							<div>
								<a id="btnSubmitCustomerForm" style="cursor: pointer;"
									href="/Views/Customer/List.html">Customers</a>
							</div>

						</div>

					</li>


					<li id="subMenuOffers">

						<div class="floatleft">

							<div>
								<a id="btnSubmitGetAllOffersForm" style="cursor: pointer;"
									href="/Views/Offer/List.html">Offers</a>
							</div>

						</div>

					</li>


					<li id="subMenuAllLoans">


						<div class="floatleft">

							<div>
								<a id="btnSubmitListAllLoansForm" style="cursor: pointer;"
									href="/Views/Loan/List.html">Loans</a>
							</div>

						</div>

					</li>

					<li id="subMenuSTO">


						<div class="floatleft">

							<div>
								<a id="btnSubmitListSTOForm" style="cursor: pointer;"
									href="/Views/STO/List.html">Sheduled Transactions</a>
							</div>

						</div>

					</li>

					<li id="subMenuValueDatedTransaction">


						<div class="floatleft">

							<div>
								<a id="btnSubmitListValueDatedTransactionForm"
									style="cursor: pointer;"
									href="/Views/ValueDatedTransaction/List.html">Value Dated
									Transactions</a>
							</div>

						</div>

					</li>

					<li id="subMenuUserprofile">


						<div class="floatleft">

							<div>
								<a id="btnSubmitListUserprofileForm" style="cursor: pointer;"
									href="/Views/Userprofile/List.html">Users</a>
							</div>

						</div>

					</li>

					<li id="subMenuAllRegisteredMembers">

						<div class="floatleft">

							<div>
								<a id="btnSubmitGetAllRegisteredMembersForm"
									style="cursor: pointer;" href="/Views/Member/List.html">Members</a>
							</div>

						</div>

					</li>


					<li id="subMenuAllOfferGroups">


						<div class="floatleft">

							<div>
								<a id="btnSubmitGetAllOfferGroupsForm" style="cursor: pointer;"
									href="/Views/MailingGroup/List.html">Offer Groups</a>
							</div>

						</div>

					</li>

					<li id="subMenuTransactions">

						<div class="floatleft">

							<div>
								<a id="btnSubmitGetAllTransactionsForm" style="cursor: pointer;"
									href="/Views/Transaction/List.html">Transactions</a>
							</div>

						</div>

					</li>


					<li id="subMenuDeposit">


						<div class="floatleft">

							<div>
								<a id="btnSubmitDepositCashForm" style="cursor: pointer;"
									href="/Views/Deposit/Deposit.html">Deposit</a>
							</div>

						</div>

					</li>


					<li id="subMenuWithDrawCash">

						<div class="floatleft">

							<div>
								<a id="btnSubmitWithDrawCashForm" style="cursor: pointer;"
									href="/Views/Withdraw/Withdraw.html">WithDraw</a>
							</div>

						</div>

					</li>


					<li>

						<div class="floatleft">

							<div>
								<a id="btnSubmitHelpForm" style="cursor: pointer;"
									href="/Views/Home/Help.html">Help</a>
							</div>

						</div>

					</li>


					<li>

						<div class="floatleft">

							<div>
								<a id="btnSubmitContactsForm" style="cursor: pointer;"
									href="/Views/Home/Contact.html">Contacts</a>
							</div>

						</div>

					</li>


					<li>

						<div class="floatleft">

							<div>
								<a id="btnSubmitAboutForm" style="cursor: pointer;"
									href="/Views/Home/About.html">About</a>
							</div>

						</div>

					</li>


				</ul>
			</div>


		</div>


	</header>




	<div id="body">


		<section class="content-wrapper main-content clear-fix">

			<div id="error-display-div" class="displaynone"></div>


			<hgroup class="title">
				<h2 class="page-title">MPESA Test</h2>
			</hgroup>

			<form action="javascript:void(0);">

				<fieldset>
					<legend>MPESA Test</legend>

					<article class="col1">
						<div class="pad">

							<div>
								<label for="txtCustomerTelno">Customer Telno</label> <input
									id="txtCustomerTelno" placeholder="CustomerTelno" type="text"></input>
							</div>

							<div>
								<label for="txtAmount">Amount</label> <input id="txtAmount"
									placeholder="Amount" type="number" min="0"></input>
							</div>

							<div>
								<label for="txtMpesaref">Mpesa reference</label> <input
									id="txtMpesaref" placeholder="Mpesaref" type="text"></input>
							</div>

							<div>
								<label for="txtAccountId">Account Id</label> <input
									id="txtAccountId" placeholder="AccountId" type="number" min="0"></input>
							</div>

							<div>
								<label for="txtSentDate">Sent Date</label> <input
									id="txtSentDate" placeholder="SentDate" type="date"></input>
							</div>

							<div>
								<label for="txtBal">Balance</label> <input id="txtBal"
									placeholder="Bal" type="number" min="0"></input>
							</div>

						</div>
					</article>


					<div style="float: left; clear: both">
						<input type="submit" value="Deposit" onclick="sendAjax()"
							id="btnDeposit" style="float: left; clear: both" />
					</div>

				</fieldset>


			</form>


			<div id="target" style="float: left; clear: both"></div>

		</section>


	</div>



	<footer>

		<hr />

		<div style="margin-left: 180px;">
			<span style="float: left; padding-left: 2px; padding-right: 2px;">Copyright
				&copy;</span> <span id="footerdate"
				style="float: left; padding-left: 2px; padding-right: 2px;"></span>
			<span style="float: left; padding-left: 2px; padding-right: 2px;">
				Software Providers Limited.</span> <span
				style="float: left; padding-left: 2px; padding-right: 2px;">All
				Rights Reserved.</span>
		</div>

	</footer>



	<script type="text/javascript">
 
    function sendAjax() {

    	var customerTelno = $('#txtCustomerTelno').val();
    	var amount = $('#txtAmount').val();
    	var mpesaref = $('#txtMpesaref').val();
    	var accountId = $('#txtAccountId').val();
    	var sentDate = $('#txtSentDate').val();
    	var bal = $('#txtBal').val(); 
    	
    	 if(customerTelno.length == 0)
    	 {
    	 alert("Customer Telno cannot be null");
    	 return;
    	 }
    	 if(amount.length == 0)
    	 {
    	 alert("Amount cannot be null");
    	 return;
    	 }
    	 if(mpesaref.length == 0)
    	 {
    	 alert("Mpesa Reference cannot be null");
    	 return;
    	 }
    	 if(accountId.length == 0)
    	 {
    	 alert("Account cannot be null");
    	 return;
    	 }
    	 if(sentDate.length == 0)
    	 {
    	 alert("Sent Date cannot be null");
    	 return;
    	 }
    	 if(bal.length == 0)
    	 {
    	 alert("Balance cannot be null");
    	 return;
    	 }
    	
        // get inputs
        var sms = new Object();
        sms.CustomerTelno = customerTelno;
        sms.Amount = amount;
        sms.Mpesaref = mpesaref;
        sms.AccountId = accountId;
        sms.SentDate = sentDate;
        sms.Bal = bal;
     
        $('#target').html('sending...');
        
        $.ajax({
             url: "http://localhost:8888/FanikiwaMpesaDeposit",
        	// url: "https://1-dot-fanikiwaweb.appspot.com/FanikiwaMpesaDeposit",
            type: 'POST',
            dataType: 'text',
            data: JSON.stringify(sms),
            contentType: 'application/json',
            mimeType: 'application/json', 
            success: function (data) {
            	 $('#target').html(data);
            },
            error:function(xhr,status,error) {
            	$('#target').html("xhr ="+ xhr + "\nStatus=" +status+ "\nError="+error);
            	alert("xhr ="+ xhr + "\nStatus=" +status+ "\nError="+error)
            }
        });

    }
    
   </script>



</body>


</html>
